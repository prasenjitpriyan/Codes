{"version":3,"sources":["js/storage.js","js/model.js","js/Item.js","js/view.js","js/index.js"],"names":["saveToStore","shoppingList","completedList","window","localStorage","setItem","JSON","stringify","getFromStore","getActive","getItem","getCompleted","active","parse","completed","addToShoppingList","item","itemId","parseInt","Math","random","Date","getTime","push","id","priority","addToCompletedList","find","filter","setPriority","map","removeItem","clearCompleted","getShoppingList","getCompletedList","bootUp","Item","title","shoppingListDiv","document","querySelector","completedDiv","renderShoppingList","domNodes","innerHTML","join","renderCompletedList","itemInput","clearCompletedBtn","addEventListener","evt","key","target","value","parentElement","classList","contains","getAttribute","confirm","getId","dataTransfer","setData","getData","preventDefault"],"mappings":";;AIAA;;AAQA;;AAEA,MAAM+C,SAAS,GAAGR,QAAQ,CAACC,aAAT,CAAuB,yBAAvB,CAAlB;AFVA,AEWA,AHXA,ADAO,AGAP,MDAMJ,AEWAE,AJXOtC,IEAH,GAAG,CAACqC,GFAU,EEAX,CFAc,CEANZ,AEWA,GAAGc,KFXK,CFAQ,EEAL,AEWA,CAACC,OFXpB,EAA6BhB,EAA7B,EEWW,CAAuB,EFXE,cEWzB,CAAxB;AFVE,AEWF,AJZuCvB,EAAAA,IIYjCwC,GFXI,KFD2B,IIYnB,GAAGF,QFXQd,AEWA,CAACe,OFXQ,MEWjB,CAAuB,OFXOhB,EAAG,GEWjC,CAArB;AFVA,AEWA,AHXA,ADFqDtB,AGCrD,EHDqDA,ECEjDD,EGWE+C,UHXU,GAAG,EAAnB,CCAsBX,CEWC,GAAGE,CFXE,OEWM,CAACC,aAAT,CAAuB,kBAAvB,CAA1B;AFVA,AEYAO,AHZA,ADHqC,CAAV,EAA2C,CCGlE7C,KGYK,CAAC+C,OHZO,GAAG,EAApB,IGYA,CAA2B,OAA3B,EAAoC,UAAUC,GAAV,EAAe;AFXnD,AEYE,AJfA/C,EAAAA,IIeI+C,EJfE,CIeC,AJfA9C,CIeC+C,GAAJ,KAAY,GJfhB,CAAoB9C,GIepB,EAAyB,EJfzB,CACE,oBADF,EAEEC,IAAI,CAACC,SAAL,CAAeN,YAAf,CAFF;AEIF,AEYI,AHZG,ADALE,EAAAA,ICAWY,EDAL,CAACX,YAAP,CAAoBC,CCAQ,GAAIW,GDAhC,CCA+B,ADC7B,IIWkBkC,AHZqB,GGYlB,CAACE,MAAJ,CAAWC,KAA7B,GJZF,EAEE/C,IAAI,CAACC,SAAL,CAAeL,aAAf,CAFF;AECF,AEYI,AHZF,ADGD,AGND,CHHO,KGGDoC,EFGErB,MAAM,GAAI,GAAEC,CEHC,GAAGqB,IFGI,CACxBpB,GEJ4B,CFIxB,AEJyBqB,CFIxBpB,MAAL,KAAgB,CEJI,CAAuB,OFGnB,CAExB,IAAG,IAAIC,AELa,CAAxB,GFKO,GAAWC,OAAX,EAAqB,EAF1B;ACCF,AEYI,AHTFrB,AENF,EFMEA,IENIwC,GCeGY,KAAL,AHTU,CAAC9B,EGSE,CDfC,CCed,AHTF,CAAkB,CENCgB,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CAArB;ADIA,AEYG,AHTChB,IAAAA,EAAE,EAAEP,MADY;ACDpB,AEYC,AHTGD,AENG,CCSP,GHHIA,EENS0B,EFIO,CCTlB,eCK6B,GAAG,MAAM;ADIvC,AEaDJ,AHVIb,ADHG,AGHL,CDPF,GDaIA,EDHSjB,EGHLmC,IFMI,EAAE,CGUC,CAACM,ADhBA,EHGS,CGHN,EHGS,WIa5B,CAAiC,AJbO,OIaxC,EAA0C,ODhBLnB,GCgBeoB,ADhBjC,CAAsB,CAAC,CCgBA,EAAe;AACvD,AHdkB,ADClB,AGJ0ClC,GFG1C,CEH0CA,ECiBtCkC,EJbEzC,AGJkC,CCiBjC,CAAC2C,MAAJ,CAAWE,AJbA,GAAGnD,MAAM,CAACC,GIarB,CAAyBmD,QJbX,CIad,AJbkC7C,CIaC8C,MJbrB,CAA4B,CIa1C,CAA4C,kBAA5C,AJbc,CIalB,AJbA,EIaqE;AACnE,AHTF,ADJA,AGLgD/B,IAAAA,IHK1Cd,EIaEc,EDlBgC,GDK3BW,GEaG,EJbE,CIaCc,EJbE/C,CIaC,CAACiD,GHTX,CDJe,CAAChD,CIaT,CAAWmD,SAAX,CAAqBF,AJbnB,CAAoB3C,IIavC,GJbmB,CAA4B,uBAA5B,CAArB;AIcE,AHTAT,ADHF,AGP0DuB,IFUxDvB,AEVwDuB,KHOnD,CIYCP,MAAM,AHVF,GGUKiC,GAAG,CAACE,MAAJ,CAAWE,aAAX,CAAyBA,aAAzB,CAAuCG,YAAvC,CACb,SADa,CAAf;AAGA,AHXAvD,ADHAU,AGRsC,GAAD,CFWrCV,ADHAU,IGRiE,EHQ3D,EAAEH,SAAS,GAAGH,IIcRW,AJdY,CAACJ,KIczB,AJdoB,CAAWJ,CIcXgB,QAApB,AJdoB,CAAH,GAA2B,EADvC;AIgBL,AHdU,ADAVX,AGRA,GFQF,CDAEA,OGRO,EHQE,EAAEH,YAAY,GAAGL,AGRdU,IHQkB,AGRvB,CHQwBH,CGRbY,IHQQ,CAAWd,GGR9B,EAAqBa,EAArB,CAAP,IHQ0B,CAAH,GAA8B;AIetD,AHXF,ADNQ,AGLN,CFJI,EDSL,AGPiB,CAAjB;AHWD,AGRCc,CHAK,CGALA,eAAe,CAACM,SAAhB,GAA4BD,QAAQ,CAACE,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","file":"js.00a46daa.js","sourceRoot":"../src","sourcesContent":["export const saveToStore = function ({ shoppingList, completedList }) {\n  window.localStorage.setItem(\n    'shoppingApp_active',\n    JSON.stringify(shoppingList)\n  );\n  window.localStorage.setItem(\n    'shoppingApp_completed',\n    JSON.stringify(completedList)\n  );\n};\nexport const getFromStore = function () {\n  const getActive = window.localStorage.getItem('shoppingApp_active');\n  const getCompleted = window.localStorage.getItem('shoppingApp_completed');\n\n  return {\n    active: getActive ? JSON.parse(getActive) : [],\n    completed: getCompleted ? JSON.parse(getCompleted) : [],\n  };\n};\n","import { saveToStore, getFromStore } from './storage';\n\nlet shoppingList = [];\nlet completedList = [];\n\nexport const addToShoppingList = (item) => {\n  const itemId = `${parseInt(\n    Math.random() * 100000000\n  )}-${new Date().getTime()}`;\n\n  shoppingList.push({\n    id: itemId,\n    item,\n    priority: 'normal',\n  });\n\n  saveToStore({\n    shoppingList,\n    completedList,\n  });\n};\n\nexport const addToCompletedList = (itemId) => {\n  const getItem = shoppingList.find(({ id }) => id === itemId);\n  shoppingList = shoppingList.filter(({ id }) => id !== itemId);\n  completedList = [getItem, ...completedList];\n\n  saveToStore({\n    shoppingList,\n    completedList,\n  });\n};\n\nexport const setPriority = (itemId, priority) => {\n  shoppingList = shoppingList.map((item) => {\n    if (item.id === itemId) {\n      return {\n        ...item,\n        priority,\n      };\n    }\n\n    return item;\n  });\n\n  saveToStore({\n    shoppingList,\n    completedList,\n  });\n};\n\nexport const removeItem = (itemId) => {\n  shoppingList = shoppingList.filter(({ id }) => id !== itemId);\n  saveToStore({\n    shoppingList,\n    completedList,\n  });\n};\n\nexport const clearCompleted = () => {\n  completedList = [];\n  saveToStore({\n    shoppingList,\n    completedList,\n  });\n};\n\nexport const getShoppingList = () => shoppingList;\nexport const getCompletedList = () => completedList;\n\nexport const bootUp = () => {\n  const { active, completed } = getFromStore();\n  shoppingList = active;\n  completedList = completed;\n};\n","const Item = (title, priority = 'normal', id) => {\n  return `<div class=\"item ${priority}\" data-id=\"${id}\" draggable=\"true\">\n  <div class=\"task\">${title}</div>\n  <div class=\"priority-control\">\n    <span class=\"high\"></span>\n    <span class=\"normal\"></span>\n    <span class=\"low\"></span>\n  </div>\n  <div class=\"remove-btn\">REMOVE</div>\n  </div>`;\n};\n\nexport default Item;\n","import { getShoppingList, getCompletedList } from './model';\nimport Item from './Item';\n\nconst shoppingListDiv = document.querySelector('.shopping-list');\nconst completedDiv = document.querySelector('.completed');\n\nexport const renderShoppingList = () => {\n  const domNodes = getShoppingList().map(({ item, priority, id }) => {\n    return Item(item, priority, id);\n  });\n  shoppingListDiv.innerHTML = domNodes.join('');\n};\n\nexport const renderCompletedList = () => {\n  const domNodes = getCompletedList().map(({ item, priority, id }) => {\n    return Item(item, priority, id);\n  });\n\n  completedDiv.innerHTML = domNodes.join('');\n};\n","import {\n  addToShoppingList,\n  addToCompletedList,\n  setPriority,\n  removeItem,\n  clearCompleted,\n  bootUp,\n} from './model';\nimport { renderShoppingList, renderCompletedList } from './view';\n\nconst itemInput = document.querySelector(\"input[name='itemInput']\");\nconst shoppingListDiv = document.querySelector('.shopping-list');\nconst completedDiv = document.querySelector('.completed');\nconst clearCompletedBtn = document.querySelector('#clear-completed');\n\nitemInput.addEventListener('keyup', function (evt) {\n  if (evt.key === 'Enter') {\n    addToShoppingList(evt.target.value);\n    renderShoppingList();\n    this.value = '';\n  }\n});\n\nshoppingListDiv.addEventListener('click', function (evt) {\n  if (evt.target.parentElement.classList.contains('priority-control')) {\n    const priority = evt.target.classList.value;\n    const itemId = evt.target.parentElement.parentElement.getAttribute(\n      'data-id'\n    );\n    setPriority(itemId, priority);\n    renderShoppingList();\n  }\n\n  if (evt.target.classList.contains('remove-btn')) {\n    const itemId = evt.target.parentElement.getAttribute('data-id');\n    const confirm = window.confirm('Do you really want to delete this item?');\n    if (confirm) {\n      removeItem(itemId);\n      renderShoppingList();\n    }\n  }\n});\n\nshoppingListDiv.addEventListener('dragstart', function (evt) {\n  if (evt.target.classList.contains('item')) {\n    const getId = evt.target.getAttribute('data-id');\n    evt.dataTransfer.setData('text/plain', getId);\n  }\n});\n\ncompletedDiv.addEventListener('drop', function (evt) {\n  const itemId = evt.dataTransfer.getData('text/plain');\n\n  if (itemId) {\n    addToCompletedList(itemId);\n    renderShoppingList();\n    renderCompletedList();\n  }\n});\n\ncompletedDiv.addEventListener('dragover', function (evt) {\n  evt.preventDefault();\n});\n\nclearCompletedBtn.addEventListener('click', function (evt) {\n  evt.preventDefault();\n  clearCompleted();\n  renderCompletedList();\n});\n\n// Immediately Invoked Function Expression (IIFEs)\n(() => {\n  bootUp();\n  renderShoppingList();\n  renderCompletedList();\n})();\n"]}